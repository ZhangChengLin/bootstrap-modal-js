<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
    <link rel="stylesheet" href="demoFiles/bootstrap.min.css">
    <title>Bootstrap Modal Dynamic Demo</title>
    <meta name="description"
          content="Use Bootstrap’s JavaScript modal plugin to add dialogs to your site for lightboxes, user notifications, or completely custom content.">
    <meta name="keywords"
          content="Bootstrap,Bootstrap4,Modal,dynamic,show.bs.modal,shown.bs.modal,hide.bs.modal,hidden.bs.modal">
</head>
<body>
<div class="container">
    <div class="my-5 p-3 border rounded">
        <div class="mb-3">
            <label for="title">标题（支持HTML）</label>
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text bg-success text-white">title</span>
                </div>
                <input type="text" class="form-control border-success" id="title" placeholder="请输入标题"
                       value="default title">
            </div>
        </div>

        <div class="mb-3">
            <label for="body">内容（支持HTML）</label>
            <div>测试长内容的时候请增加body的内容来查看效果。</div>
            <div>When testing long content, please increase the content of the body to see the effect.</div>
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text bg-success text-white">body</span>
                </div>
                <textarea rows="4" class="form-control border-success" id="body" placeholder="请输入正文内容">
                    <p>this is default body content.</p>
                    <p>this is default body content.</p>
                    <p>this is default body content.</p>
                    <p>this is default body content.</p>
                    <p>this is default body content.</p>
                </textarea>
            </div>
        </div>

        <div class="mb-3">
            <label for="footer">底部（支持HTML）</label>
            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text bg-success text-white">footer</span>
                </div>
                <textarea rows="9" class="form-control border-success" id="footer" placeholder="请输入底部内容">
                    <div>
                    <div class="d-flex align-self-start">this is some code. footer is built with<a
                            href="https://getbootstrap.com/docs/4.3/utilities/flex/"
                            target="_blank">&nbsp;flexbox</a>
                    </div>
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <input type="button" class="btn btn-outline-success" data-dismiss="modal" value="Close">
                        <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                </textarea>
            </div>
        </div>

        <div class="mb-3">
            <div>模态框尺寸</div>
            <div class="input-group">
                <div class="input-group-prepend">
                    <label class="input-group-text bg-success text-white" for="ModalSizes">ModalSizes</label>
                </div>
                <select class="custom-select border-success" id="ModalSizes">
                    <option value="">default</option>
                    <option value="sm">sm</option>
                    <option value="lg">lg</option>
                    <option value="xl">xl</option>
                    <option value="custom" disabled>custom (disabled)</option>
                </select>
            </div>
        </div>

        <div class="d-lg-flex justify-content-around">
            <div class="mb-3 p-3 border border-secondary rounded">
                <div>模态框垂直居中</div>
                <div>VerticallyCentered</div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input class="custom-control-input" type="radio" name="VerticallyCentered"
                           id="VerticallyCentered_true"
                           value="1">
                    <label class="custom-control-label btn btn-sm btn-outline-secondary" for="VerticallyCentered_true"
                           title="true"> true </label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input class="custom-control-input" type="radio" name="VerticallyCentered"
                           id="VerticallyCentered_false"
                           value="">
                    <label class="custom-control-label btn btn-sm btn-outline-secondary" for="VerticallyCentered_false"
                           title="default"> false </label>
                </div>
            </div>

            <div class="mb-3 p-3 border border-secondary rounded">
                <div>长内容滚动方式</div>
                <div>LongContentType</div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input class="custom-control-input" type="radio" name="LongContentType" id="LongContentType_true"
                           value="1">
                    <label class="custom-control-label btn btn-sm btn-outline-secondary" for="LongContentType_true"
                           title="true"> true </label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input class="custom-control-input" type="radio" name="LongContentType" id="LongContentType_false"
                           value="">
                    <label class="custom-control-label btn btn-sm btn-outline-secondary" for="LongContentType_false"
                           title="default"> false </label>
                </div>
            </div>
        </div>

        <div class="d-lg-flex justify-content-around">
            <div class="mb-3 p-3 border border-secondary rounded">
                <div>事件类型</div>
                <span class="d-block">如果使用的时候，EventType 和 CallbackFunction 必须同时存在</span>
                <div>EventType</div>
                <span class="d-block">EventType and CallbackFunction must exist at the same time if used</span>
                <div class="custom-control custom-radio custom-control-inline">
                    <input class="custom-control-input" type="radio" name="EventType" id="EventType_show" value="show">
                    <label class="custom-control-label btn btn-sm btn-outline-secondary" for="EventType_show"
                           title="show.bs.modal"> show </label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input class="custom-control-input" type="radio" name="EventType" id="EventType_shown"
                           value="shown">
                    <label class="custom-control-label btn btn-sm btn-outline-secondary" for="EventType_shown"
                           title="shown.bs.modal"> shown </label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input class="custom-control-input" type="radio" name="EventType" id="EventType_hide" value="hide">
                    <label class="custom-control-label btn btn-sm btn-outline-secondary" for="EventType_hide"
                           title="hide.bs.modal"> hide </label>
                </div>
                <div class="custom-control custom-radio custom-control-inline">
                    <input class="custom-control-input" type="radio" name="EventType" id="EventType_hidden"
                           value="hidden">
                    <label class="custom-control-label btn btn-sm btn-outline-secondary" for="EventType_hidden"
                           title="hidden.bs.modal"> hidden </label>
                </div>
            </div>


            <div class="mb-3 p-3 border border-secondary rounded">
                <div>
                    <span class="d-block">事件回调函数</span>
                    <span class="d-block">如果使用的时候，EventType 和 CallbackFunction 必须同时存在</span>
                    <span class="d-block">CallbackFunction</span>
                    <span class="d-block">EventType and CallbackFunction must exist at the same time if used</span>
                </div>
                <div class="my-2 input-group rounded">
                    <div class="input-group-prepend">
                        <label class="input-group-text bg-success text-white"
                               for="CallbackFunction">CallbackFunction</label>
                    </div>
                    <select class="custom-select border-success" id="CallbackFunction">
                        <option class="custom-select-lg" value="">default</option>
                        <option class="custom-select-lg" value="alert_some_text">alert_some_text</option>
                        <option class="custom-select-lg" value="console_log_some_text">console_log_some_text</option>
                        <option class="custom-select-lg" value="get_number">get_number</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="mb-3 p-3 border border-secondary rounded">
            <div>选项预留 （开发中）</div>
            <div>Options Reserved (In development)</div>
            <div class="custom-control custom-switch custom-control-inline">
                <input type="checkbox" class="custom-control-input" id="backdrop" value="backdrop" checked disabled>
                <label class="custom-control-label btn btn-sm btn-outline-primary disabled"
                       for="backdrop">backdrop</label>
            </div>
            <div class="custom-control custom-switch custom-control-inline">
                <input type="checkbox" class="custom-control-input" id="keyboard" value="keyboard" checked disabled>
                <label class="custom-control-label btn btn-sm btn-outline-primary disabled"
                       for="keyboard">keyboard</label>
            </div>
            <div class="custom-control custom-switch custom-control-inline">
                <input type="checkbox" class="custom-control-input" id="focus" value="focus" checked disabled>
                <label class="custom-control-label btn btn-sm btn-outline-primary disabled" for="focus">focus</label>
            </div>
            <div class="custom-control custom-switch custom-control-inline">
                <input type="checkbox" class="custom-control-input" id="show" value="show" checked disabled>
                <label class="custom-control-label btn btn-sm btn-outline-primary disabled" for="show">show</label>
            </div>
        </div>

        <div class="mb-5">
            <a href="javascript:" id="bs_modal_click" class="btn btn-lg btn-block btn-outline-success bg-dark">Click to
                generate modal box</a>
        </div>

        <div>
            <span class="d-block">CallbackFunction代码示例</span>
            <span class="d-block">CallbackFunction code example</span>
            <div class="input-group">
<textarea rows="21" class="form-control" disabled readonly>
<code>
function alert_some_text() {
    alert("Use Bootstrap’s JavaScript modal plugin to add dialogs to your site for lightboxes, user notifications, or completely custom content");
}

function console_log_some_text() {
    console.log("Use Bootstrap’s JavaScript modal plugin to add dialogs to your site for lightboxes, user notifications, or completely custom content");
}

function return_number() {
    return 222 + 333;
}

function get_number() {
    alert(return_number());
}
</code>
    </textarea>
            </div>
        </div>

    </div>
</div>


<div>
    <script src="demoFiles/jquery.min.js"></script>
    <script src="demoFiles/popper.min.js"></script>
    <script src="demoFiles/bootstrap.min.js"></script>
    <script src="src/bootstrap-modal-js.js"></script>
    <!--<script src="dist/bootstrap-modal-js.min.js"></script>-->

    <script>
        $("label").tooltip({
            placement: "bottom"
        });
    </script>
    <div>
        <script>
            function alert_some_text() {
                alert("Use Bootstrap’s JavaScript modal plugin to add dialogs to your site for lightboxes, user notifications, or completely custom content");
            }

            function console_log_some_text() {
                console.log("Use Bootstrap’s JavaScript modal plugin to add dialogs to your site for lightboxes, user notifications, or completely custom content");
            }

            function return_number() {
                return 222 + 333;
            }

            function get_number() {
                alert(return_number());
            }

            function return_title() {
                return "function title";
            }

            function return_body() {
                return "function body";
            }

            function return_footer() {
                return "function footer";
            }
        </script>
    </div>
</div>

<script>
    (function () {
        const bs_modal_click = document.querySelector("#bs_modal_click");
        bs_modal_click.addEventListener("click", function () {
            const title_value = select_value("title");
            const body_value = select_value("body");
            const footer_value = select_value("footer");
            const ModalSizes_value = select_value("ModalSizes");
            const VerticallyCentered_value = radio_boolean_value("VerticallyCentered");
            const LongContentType_value = radio_boolean_value("LongContentType");
            const EventType_value = radio_value("EventType");
            const CallbackFunction = select_value("CallbackFunction");
            const CallbackFunction_value = CallbackFunction ? eval(CallbackFunction) : "";

            bootstrapModalJs(title_value, body_value, footer_value, ModalSizes_value, VerticallyCentered_value, LongContentType_value, EventType_value, CallbackFunction_value);
        });

        function select_value(id) {
            let option = document.querySelector("#" + id);
            return option.value;
        }

        function radio_value(name) {
            let radio = document.querySelectorAll("[name='" + name + "']");
            let radioValue;
            for (let i = 0; i < radio.length; i++) {
                if (radio[i].checked === true) {
                    radioValue = radio[i].value;
                    break;
                }
            }
            return radioValue;
        }

        function radio_boolean_value(name) {
            let radio = document.querySelectorAll("[name='" + name + "']");
            let radioValue;
            for (let i = 0; i < radio.length; i++) {
                if (radio[i].checked === true) {
                    radioValue = radio[i].value;
                    break;
                }
            }
            return Boolean(radioValue);
        }
    })();
</script>


</body>
</html>